<!DOCTYPE html>

<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <title>施工模型上传</title>
    <!--------------------引用easyUI的CSS文件---------------------->
    <link
      href="../Content/jquery-easyui-1.8.8/themes/icon.css"
      rel="stylesheet"
    />
    <link
      href="../Content/jquery-easyui-1.8.8/themes/default/easyui.css"
      rel="stylesheet"
    />

    <link href="../Scripts/uploadify/uploadifive.css" rel="stylesheet" />

    <script src="../Scripts/jquery-3.5.0.min.js"></script>
    <script src="../Content/jquery-easyui-1.8.8/jquery.easyui.min.js"></script>
    <script src="../Content/jquery-easyui-1.8.8/locale/easyui-lang-zh_CN.js"></script>

    <script src="../Scripts/layer/src/layer.js"></script>
    <script src="../Scripts/uploadify/Sample/jquery.uploadifive.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>

    <script type="module">
      var uploadFile = new Vue({
        el: "#upload_file",
        data() {
          return {
            files: {
              file1: "",
              file2: "",
              file3: "",
              file4: "",
              file5: "",
              file6: "",
              file7: "",
              file8: "",
            },
          };
        },
        methods: {
          upload() {
            console.log(this.files);
            window.localStorage.setItem("files", JSON.stringify(this.files));
            window.open("./ViewModel.html");
          },
          onFileChange(event) {
            var file = event.target.files[0];
            const name = event.target.name;
            if (file) {
              this.files[name] = file.name;
            }
          },
        },
      });
    </script>
    <style>
      .layout_row {
        display: inline-flex;
        flex-direction: column;
        text-align: left;
        padding-left: 60px;
      }
    </style>
  </head>
  <body>
    <span id="uploadify"></span>
    <div id="upload_file" style="width: 100%; text-align: center">
      <div
        class="easyui-panel"
        title="<center>模型上传</center>"
        style="
          width: 100%;
          min-height: 420px;
          text-align: center;
          padding-top: 60px;
          flex-basis: 1fr;
        "
        closable="false"
      >
        <p>请上传.json模型文件</p>
        <div class="layout_row">
          <input
            v-for="key in Object.keys(files)"
            :key="key"
            type="file"
            :name="key"
            accept=".json"
            @change="onFileChange"
            size="300"
          />
          <br />
          <button @click="upload">上传</button>
        </div>
      </div>
    </div>
  </body>
</html>
